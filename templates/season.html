{% extends "layout.html" %}

{% block title %}
    {{ title }}
{% endblock %}

{% block main %}
<div class="seasons">
    <form method="post" action="/gotoseason" class="getseason">
        
        <div class="seasonoption">
            <label for="season">Season</label>
            <select name="season" id="season" required>
                {% if form_data['season'] %}
                    <option value="{{ form_data['season'] }}" selected>{{ form_data['season'].lower().capitalize() }}</option>
                {% else %}
                    <option value="" disabled selected>Select Season</option>
                {% endif %}
                <option value="winter">Winter</option>
                <option value="spring">Spring</option>
                <option value="summer">Summer</option>
                <option value="fall">Fall</option>
            </select>
        </div>
        <div class="seasonoption">
            <label for="yearint">Year</label>
            <select name="yearint" id="yearint" required>
                {% if form_data['year'] %}
                    <option value="{{ form_data['year'] }}" selected>{{ form_data['year'] }}</option>
                {% else %}
                    <option value="" disabled selected>Select Year</option>
                {% endif %}
                {% for n in range(2024, 1949, -1) %}
                    <option value="{{ n }}">{{ n }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="seasonoption">
            <label for="format">Format</label>
            <select name="format" id="format">
                {% if form_data['format'] %}
                    <option value="{{ form_data['format'] }}" selected>{{ form_data['format'] }}</option>
                {% else %}
                    <option value="" selected>Select Format</option>
                {% endif %}
                <option value="TV">TV</option>
                <option value="MOVIE">Movies</option>  
                <option value="OVA">OVA</option>
                <option value="TV_SHORT">TV Short</option>
                <option value="ONA">ONA (Original Net Animation)</option>
                <option value="SPECIAL">Special</option>    
            </select>
        </div>
        <div class="seasonoption submitbutton-div">
            <button class="submitbutton">Go to Season</button>
        </div>
    </form>
</div>
    <h2 class="season-title">{{ title }}</h2>
    <div class="animecontainer" id="seasonalanime">
        {% for anime in data['anime_data'] %}
        
            <div class="animeshows">
                <div class="animecontent">
                    <img src="{{anime['coverImage']['large']}}" alt="anime cover image">
                    <div class="animeinfo">
                        <div class="animetitle">
                            <h6>{{anime['title']['romaji']}}</h6>
                        </div>
                        <hr>
                        <div class="animedescription">
                            <p>{{anime['description'] | safe}}</p>
                        </div>
                    </div>
                </div>
                <div class="extras">
                    {% for genre in anime['genres'] %}
                        <div class="tag-div"><a href="/anime?selectgenre={{genre}}"><span class="genres purple">{{genre}}</span></a></div>
                    {% endfor %}
                </div>
            </div>
        
        {% endfor %}
    </div>
{% endblock %}
